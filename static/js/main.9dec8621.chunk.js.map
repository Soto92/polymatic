{"version":3,"sources":["samples/hit2.wav","lib/worker.js","lib/pattern.js","lib/wa-metro.js","lib/layer.js","lib/beet.js","lib/clavis.js","Layer.js","Header.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","self","interval","timer","onmessage","event","data","setInterval","postMessage","clearInterval","watch","WatchJS","Pattern","pulses","steps","this","_createSequence","update","prototype","shift","offset","off","seq","length","tail","splice","i","unshift","typeOfPulses","bjork","split","Metro","context","callback","Error","tempo","look_ahead","_step","_scheduler_interval","_next_event_time","_first","_is_running","_worker","work","_scheduler","start","console","log","pause","stop","currentTime","event_time_from_scheduled","_next","Layer","id","clavis","sequence","on","metro","time","step","timeFromScheduled","setTimeout","setCurrentStep","Beet","layers","shortid","generate","layer","push","filter","item","forEach","path","success","failure","request","XMLHttpRequest","open","responseType","onload","decodeAudioData","response","onerror","send","audioParam","now","opts","peak","defaultValue","value","attack","decay","sustain","release","setValueAtTime","linearRampToValueAtTime","Clavis","canvas","pattern","animate","lastRender","Date","draw","bind","currentStep","patternPos","getContext","window","requestAnimationFrame","theme","width","height","radius","angle","Math","PI","startAngle","drawDot","x","y","stroke","fill","strokeStyle","fillStyle","beginPath","arc","drawDotOn","drawDotOff","style","padding","clearRect","lineWidth","patternDots","coords","r","cos","sin","dots","moveTo","lineTo","closePath","connectDots","drawDotBeat","guia","removeLayer","canvasRef","useRef","useEffect","configure","current","play","className","ref","onClick","icon","faPlay","faStop","faTrash","Header","setPattern","setCallback","beet","setTempo","addLayer","ButtonGroup","aria-label","Button","variant","InputGroup","Prepend","Text","FormControl","placeholder","onChange","e","target","Form","Control","as","App","callbacks","drum","source","createBufferSource","load","hit","buffer","connect","destination","synth","osc","createOscillator","gain","createGain","frequency","envelope","peake","useState","setLayers","AudioContext","webkitAudioContext","remove","headerProps","add","map","key","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.9dec8621.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/hit2.f3e648cb.wav\";","export default function(self) {\n  var interval = 25;\n  var timer = null;\n  self.onmessage = function(event) {\n    if (event.data === \"interval\") {\n      interval = event.data.interval;\n    }\n    if (event.data === \"start\") {\n      timer = setInterval(function() {\n        postMessage(\"tick\");\n      }, interval);\n    }\n\n    if (event.data === \"stop\") {\n      clearInterval(timer);\n      timer = null;\n    }\n  };\n}\n","import bjork from \"bjorklund\";\nimport WatchJS from \"melanke-watchjs\";\n\nconst watch = WatchJS.watch;\n\nfunction Pattern(pulses, steps) {\n  var self = this;\n\n  self._createSequence(pulses, steps);\n\n  watch(this, [\"pulses\", \"steps\"], function() {\n    self.update(this.pulses, this.steps);\n  });\n\n  return this;\n}\n\nPattern.prototype.update = function(pulses, steps) {\n  var self = this;\n  self._createSequence(pulses, steps);\n\n  return this;\n};\n\nPattern.prototype.shift = function(offset) {\n  var off =\n    offset > this.seq.length ? (offset = offset - this.seq.length) : offset;\n  if (off === this.seq.length) return this;\n\n  var tail = this.seq.splice(this.seq.length - off, off);\n\n  for (var i = 0; i < tail.length; i++) {\n    this.seq.unshift(tail[i]);\n  }\n  return this;\n};\n\nPattern.prototype._createSequence = function(pulses, steps) {\n  var self = this;\n  var typeOfPulses = typeof pulses;\n\n  if (typeOfPulses === \"number\") {\n    self.pulses = pulses;\n    self.steps = steps || pulses;\n    self.seq = bjork(self.pulses, self.steps).split(\"\");\n  } else if (typeOfPulses === \"string\") {\n    self.steps = pulses.length;\n    self.seq = pulses.split(\"\");\n  }\n\n  return this;\n};\n\nexport default Pattern;\n","import work from \"webworkify-webpack\";\n\nfunction Metro(context, callback) {\n  var self = this;\n\n  if (!context) throw new Error(\"Context is mandatory\");\n  if (!callback) throw new Error(\"Callback is mandatory\");\n\n  this.context = context;\n  this.steps = 16;\n  this.tempo = 120;\n  this.callback = callback;\n  this.look_ahead = 1.0;\n\n  this._step = 1;\n  this._scheduler_interval = 20;\n  this._next_event_time = 0.0;\n  this._first = true;\n  this._is_running = false;\n\n  this._worker = work(require.resolve(\"./worker.js\"));\n\n  this._worker.onmessage = function(event) {\n    if (event.data === \"tick\" && self._is_running) {\n      self._scheduler();\n    }\n  };\n\n  this._worker.postMessage({\n    interval: self._scheduler_interval\n  });\n}\n\nMetro.prototype.start = function(callback) {\n  if (this._is_running) {\n    console.log(\"already started\");\n    return;\n  }\n  this._is_running = true;\n  this._worker.postMessage(\"start\");\n};\n\nMetro.prototype.pause = function() {\n  this._is_running = false;\n  this._worker.postMessage(\"stop\");\n};\n\nMetro.prototype.stop = function() {\n  this._first = true;\n  this._step = 1;\n  this._is_running = false;\n  this._worker.postMessage(\"stop\");\n};\n\nMetro.prototype._scheduler = function _scheduler() {\n  var self = this;\n  if (this._step === 1 && this._first) {\n    this._next_event_time = this.context.currentTime;\n  }\n  while (this._next_event_time < this.context.currentTime + this.look_ahead) {\n    var event_time_from_scheduled =\n      self._next_event_time - self.context.currentTime;\n    this.callback(self._next_event_time, self._step, event_time_from_scheduled);\n    this._next();\n  }\n};\n\nMetro.prototype._next = function _next() {\n  this._step++;\n  if (this._first) {\n    this._next_event_time = this.context.currentTime;\n    this._first = false;\n  }\n  if (this._step > this.steps) {\n    this._step = 1;\n  }\n  this._next_event_time += ((60.0 / this.tempo) * 4) / this.steps;\n};\n\nexport default Metro;\n","import Metro from \"./wa-metro.js\";\nimport WatchJS from \"melanke-watchjs\";\n\nconst watch = WatchJS.watch;\n\nfunction Layer(id, context, tempo, clavis, sequence, on, off) {\n  if (!off) off = function() {};\n  var self = this;\n  this.id = id;\n  this.on = on;\n  this.off = off;\n  this.tempo = tempo;\n  this.clavis = clavis;\n\n  self.metro = new Metro(context, function(time, step, timeFromScheduled) {\n    if (self.metro.steps !== sequence.seq.length) {\n      self.metro.steps = sequence.seq.length;\n    }\n\n    if (sequence.seq[step - 1] === \"1\") {\n      self.on(time, step, timeFromScheduled);\n      setTimeout(() => {\n        clavis.setCurrentStep(step);\n      }, 1000);\n    } else {\n      self.off(time, step, timeFromScheduled);\n      setTimeout(() => {\n        clavis.setCurrentStep(step);\n      }, 1000);\n    }\n  });\n\n  this.metro.steps = sequence.seq.length;\n  this.metro.tempo = this.tempo;\n\n  watch(self, [\"tempo\"], function() {\n    self.metro.tempo = self.tempo;\n  });\n}\n\nLayer.prototype.start = function() {\n  this.metro.start();\n  return this;\n};\n\nLayer.prototype.pause = function() {\n  this.metro.pause();\n  return this;\n};\n\nLayer.prototype.stop = function() {\n  this.metro.stop();\n  return this;\n};\n\nexport default Layer;\n","import shortid from \"shortid\";\nimport Pattern from \"./pattern\";\nimport Layer from \"./layer\";\n\nclass Beet {\n  constructor({ context, tempo }) {\n    this.context = context;\n    this.tempo = tempo || 120;\n    this.layers = [];\n  }\n\n  layer(sequence, clavis, on, off) {\n    return new Layer(\n      shortid.generate(),\n      this.context,\n      this.tempo,\n      clavis,\n      sequence,\n      on,\n      off\n    );\n  }\n\n  pattern(pulses, steps) {\n    return new Pattern(pulses, steps);\n  }\n\n  add(layer) {\n    this.layers.push(layer);\n  }\n\n  remove(layer) {\n    layer.metro.stop();\n    this.layers = this.layers.filter(item => item.id !== layer.id);\n  }\n\n  start() {\n    this.layers.forEach(layer => {\n      layer.start();\n    });\n  }\n\n  pause() {\n    this.layers.forEach(function(layer) {\n      layer.pause();\n    });\n  }\n\n  load(context, path, success, failure) {\n    var request = new XMLHttpRequest();\n    request.open(\"GET\", path, true);\n    request.responseType = \"arraybuffer\";\n    request.onload = function() {\n      context.decodeAudioData(request.response, success, failure);\n    };\n    request.onerror = failure;\n    request.send();\n  }\n\n  envelope(audioParam, now, opts) {\n    if (!opts) opts = {};\n    var peak = opts.peak || audioParam.defaultValue;\n    if (opts.start === 0) opts.start = 0.000001;\n    var start = opts.start || audioParam.value;\n    var attack = opts.attack || 0.1;\n    var decay = opts.decay || 0.0;\n    var sustain = opts.sustain || peak;\n    var release = opts.release || 0.5;\n\n    audioParam.setValueAtTime(start, now);\n    audioParam.linearRampToValueAtTime(peak, now + attack);\n    audioParam.linearRampToValueAtTime(sustain, now + attack + decay);\n    audioParam.linearRampToValueAtTime(0, now + attack + decay + release);\n  }\n\n  changeTempo(value) {\n    for (const layer of this.layers) {\n      layer.metro.tempo = value;\n    }\n  }\n}\n\nexport default Beet;\n","class Clavis {\n  constructor() {\n    this.canvas = null;\n    this.context = null;\n    this.pattern = null;\n    this.tempo = 0;\n    this.animate = false;\n    this.lastRender = Date.now();\n    this.draw = this.draw.bind(this);\n    this.currentStep = 1;\n    this.patternPos = {};\n  }\n\n  configure(canvas, pattern, tempo) {\n    this.canvas = canvas;\n    this.context = canvas.getContext(\"2d\");\n    this.pattern = pattern;\n    this.tempo = tempo;\n  }\n\n  setCurrentStep(step) {\n    this.currentStep = step;\n  }\n\n  play() {\n    this.animate = true;\n    window.requestAnimationFrame(this.draw);\n  }\n\n  pause() {\n    this.animate = false;\n  }\n\n  draw() {\n    const { canvas, context, pattern } = this;\n    const theme = {\n      \"canvas-padding\": \"20px\",\n      \"canvas-width\": 200,\n      \"canvas-height\": 200,\n      \"outer-circle-radius\": 80,\n      \"outer-circle-line-width\": 2,\n      \"outer-circle-stroke-style\": \"#ccc\",\n      \"dot-path-stroke\": \"#000\",\n      \"dot-on-radius\": 4,\n      \"dot-on-stroke-style\": \"#000\",\n      \"dot-on-fill-style\": \"#000\",\n      \"dot-off-radius\": 2,\n      \"dot-off-stroke-style\": \"#ccc\",\n      \"dot-off-fill-style\": \"#ccc\",\n      \"dot-beat-radius\": 5,\n      \"dot-beat-stroke-style\": \"#fc0\",\n      \"dot-beat-fill-style\": \"#fc0\"\n    };\n\n    /* Canvas dimensions */\n    const [width, height] = [theme[\"canvas-width\"], theme[\"canvas-height\"]];\n\n    /* Radius of the outer circle */\n    const radius = theme[\"outer-circle-radius\"];\n\n    /* The entire circle is `360∘ ≡ 2π` and we we want to find the\n       distance between each point `2π / N`. */\n    const angle = (2 * Math.PI) / pattern.length;\n\n    /* This is where it all starts */\n    const startAngle = -0.5 * Math.PI;\n\n    /* Configure canvas */\n    canvas.style.padding = theme[\"canvas-padding\"];\n    canvas.width = width;\n    canvas.height = height;\n\n    function drawOuterCircle() {\n      context.lineWidth = theme[\"outer-circle-line-width\"];\n      context.strokeStyle = theme[\"outer-circle-stroke-style\"];\n      context.beginPath();\n      context.arc(\n        width / 2 /* x */,\n        height / 2 /* y */,\n        radius /* radius */,\n        0 /* angle start */,\n        2 * Math.PI /* angle end */\n      );\n      context.stroke();\n    }\n\n    // function drawStep(x, y, step) {\n    //   context.font = \"12px serif\";\n    //   context.fillText(step, x, y);\n    // }\n\n    function drawDot(x, y, { radius, stroke, fill }) {\n      context.strokeStyle = stroke;\n      context.fillStyle = fill;\n      context.beginPath();\n      context.arc(x, y, radius, 0, 2 * Math.PI);\n      context.fill();\n      context.stroke();\n    }\n\n    function drawDotOn(x, y) {\n      drawDot(x, y, {\n        radius: theme[\"dot-on-radius\"],\n        stroke: theme[\"dot-on-stroke-style\"],\n        fill: theme[\"dot-on-fill-style\"]\n      });\n    }\n\n    function drawDotOff(x, y) {\n      drawDot(x, y, {\n        radius: theme[\"dot-off-radius\"],\n        stroke: theme[\"dot-off-stroke-style\"],\n        fill: theme[\"dot-off-fill-style\"]\n      });\n    }\n\n    function drawDotBeat(x, y) {\n      drawDot(x, y, {\n        radius: theme[\"dot-beat-radius\"],\n        stroke: theme[\"dot-beat-stroke-style\"],\n        fill: theme[\"dot-beat-fill-style\"]\n      });\n    }\n\n    context.clearRect(0, 0, width, height);\n    drawOuterCircle();\n\n    const patternDots = [];\n\n    function connectDots(dots) {\n      context.strokeStyle = theme[\"dot-path-stroke\"];\n      context.beginPath();\n      context.moveTo(dots[0][0], dots[0][1]);\n      for (let i = 1; i < dots.length; i++) {\n        context.lineTo(dots[i][0], dots[i][1]);\n      }\n      context.closePath();\n      context.stroke();\n    }\n\n    function coords(angle, r) {\n      /* Find the equidistant points:\n         Many thanks to\n         https://math.stackexchange.com/questions/2820194/how-to-plot-n-coords-to-distribute-evenly-as-a-ring-of-points-around-a-circle\n      */\n      const x = Math.cos(angle) * r + width / 2;\n      const y = Math.sin(angle) * r + height / 2;\n      return [x, y];\n    }\n\n    for (let i = 0; i < pattern.length; i++) {\n      const a = startAngle + angle * i;\n      const [x, y] = coords(a, radius);\n      if (pattern[i] === \"1\") {\n        drawDotOn(x, y);\n        patternDots.push([x, y]);\n      } else {\n        drawDotOff(x, y);\n      }\n      //const [xStep, yStep] = coords(a, 100);\n      //drawStep(xStep, yStep, i + 1);\n      this.patternPos[i] = { x, y };\n    }\n\n    /* Connect the dots */\n    connectDots(patternDots);\n\n    /* Draw the moving dot */\n    const beatX = this.patternPos[this.currentStep - 1].x;\n    const beatY = this.patternPos[this.currentStep - 1].y;\n    drawDotBeat(beatX, beatY);\n    if (this.animate) {\n      window.requestAnimationFrame(this.draw);\n    }\n  }\n}\n\nexport default Clavis;\n","import React, { useEffect, useRef } from \"react\";\nimport shortid from \"shortid\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faStop, faTrash } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function Layer({ guia, removeLayer }) {\n  const canvasRef = useRef();\n  const { sequence, tempo, layer, clavis } = guia;\n\n  useEffect(() => {\n    clavis.configure(canvasRef.current, sequence, tempo);\n    clavis.play();\n  });\n\n  const handleStop = () => {\n    layer.stop();\n    clavis.pause();\n  };\n\n  const handleStart = () => {\n    layer.start();\n    clavis.play();\n  };\n\n  return (\n    <div className=\"layer\">\n      <canvas\n        id={shortid.generate()}\n        ref={canvasRef}\n        width={640}\n        height={425}\n      />\n      <div className=\"controls\">\n        <button onClick={() => handleStart()}>\n          <FontAwesomeIcon icon={faPlay} />\n        </button>\n        <button onClick={() => handleStop()}>\n          <FontAwesomeIcon icon={faStop} />\n        </button>\n        <button onClick={() => removeLayer(guia)}>\n          <FontAwesomeIcon icon={faTrash} />\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faStop } from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  Button,\n  ButtonGroup,\n  FormControl,\n  InputGroup,\n  Form\n} from \"react-bootstrap\";\n\nfunction Header({\n  layers,\n  pattern,\n  setPattern,\n  setCallback,\n  beet,\n  tempo,\n  setTempo,\n  addLayer\n}) {\n  const start = () => {\n    for (const guia of layers) {\n      guia.layer.start();\n      guia.clavis.play();\n    }\n  };\n\n  const stop = () => {\n    for (const guia of layers) {\n      guia.layer.stop();\n      guia.clavis.pause();\n    }\n  };\n  return (\n    <div className=\"header\">\n      <div>\n        <h1 className=\"header-logo\">\n          Polymatic <small>v3</small>\n        </h1>\n      </div>\n      <div className=\"header-controls\">\n        <ButtonGroup aria-label=\"Basic example\">\n          <Button variant=\"secondary\" onClick={() => start()}>\n            <FontAwesomeIcon icon={faPlay} />\n          </Button>\n          <Button variant=\"secondary\" onClick={() => stop()}>\n            <FontAwesomeIcon icon={faStop} />\n          </Button>\n        </ButtonGroup>\n      </div>\n      <div className=\"header-form\">\n        <InputGroup>\n          <InputGroup.Prepend>\n            <InputGroup.Text id=\"basic-addon3\">Padrão</InputGroup.Text>\n          </InputGroup.Prepend>\n          <FormControl\n            placeholder=\"padrão\"\n            value={pattern}\n            onChange={e => setPattern(e.target.value)}\n          />\n        </InputGroup>\n        <InputGroup>\n          <InputGroup.Prepend>\n            <InputGroup.Text id=\"basic-addon3\">Tempo</InputGroup.Text>\n          </InputGroup.Prepend>\n          <FormControl\n            placeholder=\"tempo\"\n            value={tempo}\n            onChange={e => setTempo(e.target.value)}\n          />\n        </InputGroup>\n        <Form.Control as=\"select\" onChange={e => setCallback(e.target.value)}>\n          <option value=\"drum\">drum</option>\n          <option value=\"synth\">synth</option>\n        </Form.Control>\n        <Button onClick={() => addLayer()}>Adicionar</Button>\n      </div>\n    </div>\n  );\n}\nexport default Header;\n","import React, { useState } from \"react\";\nimport Beet from \"./lib/beet\";\nimport Clavis from \"./lib/clavis\";\nimport hit from \"./samples/hit2.wav\";\nimport shortid from \"shortid\";\nimport Layer from \"./Layer\";\nimport Header from \"./Header\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nfunction App() {\n  const callbacks = { drum: drum, synth: synth };\n  const [pattern, setPattern] = useState(\"1000101000101000\");\n  const [tempo, setTempo] = useState(120);\n  const [layers, setLayers] = useState([]);\n  const [callback, setCallback] = useState(\"drum\");\n\n  window.AudioContext = window.AudioContext || window.webkitAudioContext;\n  const context = new AudioContext();\n  const beet = new Beet({\n    context: context,\n    tempo: tempo\n  });\n\n  const addLayer = () => {\n    const sequence = beet.pattern(pattern);\n    const clavis = new Clavis();\n    const guia = { layer: beet.layer(sequence, clavis, callbacks[callback]) };\n    guia.layer.tempo = tempo;\n    beet.add(guia.layer);\n    beet.start();\n    setLayers([\n      ...layers,\n      {\n        id: shortid.generate(),\n        sequence: pattern,\n        tempo: tempo,\n        layer: guia.layer,\n        clavis: clavis\n      }\n    ]);\n  };\n\n  const removeLayer = guia => {\n    beet.remove(guia.layer);\n    guia.clavis.pause();\n    setLayers(layers.filter(layer => layer.id !== guia.id));\n  };\n\n  function drum(time, step) {\n    const source = context.createBufferSource();\n    beet.load(beet.context, hit, function(buffer) {\n      source.buffer = buffer;\n      source.connect(context.destination);\n      source.start(time);\n    });\n  }\n\n  function synth(time, step) {\n    console.log(\"Step: \", step);\n    var osc = context.createOscillator();\n    var gain = context.createGain();\n    osc.connect(gain);\n    gain.connect(context.destination);\n    osc.frequency.value = 277;\n    beet.envelope(gain.gain, time, {\n      start: 0,\n      peake: 0.5,\n      attack: 0.02,\n      decay: 0.1,\n      sustain: 0.1,\n      release: 0.2\n    });\n    osc.start(time);\n    osc.stop(time + 0.5);\n  }\n\n  const headerProps = {\n    layers,\n    pattern,\n    setPattern,\n    setCallback,\n    beet,\n    tempo,\n    setTempo,\n    addLayer\n  };\n\n  return (\n    <div className=\"App\">\n      <Header {...headerProps} />\n      <div className=\"wrapper\">\n        {layers.map(layer => (\n          <Layer key={layer.id} guia={layer} removeLayer={removeLayer} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}